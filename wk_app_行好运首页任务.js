/**
 * 【行好运-首页任务】
 *
 *目前仅支持青龙，青龙环境配置如下：
 *1、依赖类型nodejs 添加 axios 依赖
 *2、脚本管理-新增，复制粘贴脚本内容，文件名填对应xxx.js,即xhy_main.js
 *3、青龙创建定时任务：命令行填task xhy_main.js
 *4、设置运行时间：0,30 0-23 * * *【建议时间，可自行修改】
 *
 * 刚下载app后，需要手动完成几个终身任务，该类别任务一个账号只可做一次：
 * 1、任务-完善个人信息（随便填一个信息后保存即可），获取金币
 * 2、任务-领取邀请人金币（100）
 *
 * 抓包：抓 127.79.242.198
 * 多账户换行或&或@隔开
 * 取请求头里面的 token的值
 * 青龙创建参数：xhyToken
 * 将抓到的token的值填写到 xhyToken 中去
 * xhyToken="token1&token2"
 *
 **/
var _0x18fe=['active','http://120.79.242.198/lucky/v1/gold/random?goldNum=','env','step','http://120.79.242.198/lucky/v1/gold/step?goldNum=','本次获得在线金币：','online','查询您当前的步数..','http://120.79.242.198/lucky/v1/user/onlineDuration?onlineDuration=120','then','本次获得活跃金币：','invitedCode','goldNum','http://120.79.242.198/lucky/v1/gold/mainTask','split','duration','http://120.79.242.198/lucky/v1/gold/stepLevel?goldStepLevelId=','msg','本次通过走路获得金币：','data','&hasDouble=2','post','resp','get','log','http://120.79.242.198/lucky/v1/user/view','code','本次获得随机金币：','put','indexOf','goldOnlineTaskDb','http://120.79.242.198/lucky/v2/user/invitedCode?invitedCode=3618d25e','userDailyDataDb','您当前的步数为：'];var _0x538b=function(_0x18fe61,_0x538b7c){_0x18fe61=_0x18fe61-0x0;var _0x45938b=_0x18fe[_0x18fe61];return _0x45938b;};const $=require('axios');const token=process[_0x538b('0x2')]['xhyToken'];var randomIcon=0x1;var mainResult;var requestNum=0x1;getCookie()['then'](_0x108671=>0x1);async function getCookie(){var _0xf3e510;if(token['indexOf']('\x0a')>0x0){_0xf3e510=token[_0x538b('0xe')]('\x0a');}else if(token[_0x538b('0x1d')]('&')>0x0){_0xf3e510=token[_0x538b('0xe')]('&');}else if(token['indexOf']('@')>0x0){_0xf3e510=token['split']('@');}else{_0xf3e510=[token];}for(var _0x434804 in _0xf3e510){await doTask(_0xf3e510[_0x434804]);}}async function doTask(_0x30caa3){await bind(_0x30caa3);await getMainCoinInfo(_0x30caa3)[_0x538b('0x9')](_0x319a5e=>{if(mainResult['online']['goldOnlineTaskDb'][_0x538b('0xf')]==0x0){var _0x3ef8ec=mainResult[_0x538b('0x6')][_0x538b('0x1e')]['goldNum'];var _0x1d1907=mainResult[_0x538b('0x6')]['goldOnlineTaskDb']['id'];getOnlineIcon(_0x30caa3,_0x1d1907,_0x3ef8ec);}if(mainResult[_0x538b('0x0')]['goldNum']!=0x0){var _0x3ef8ec=mainResult[_0x538b('0x0')][_0x538b('0xc')];getActiveIcon(_0x30caa3,_0x3ef8ec);}if(randomIcon!=0x0){getRandomIcon(_0x30caa3,randomIcon);}if(mainResult[_0x538b('0x3')]['goldNum']!=0x0){var _0x3ef8ec=mainResult['step']['goldNum'];getStepIcon(_0x30caa3,_0x3ef8ec);}getStepLevelIcon(_0x30caa3);});}async function getStepLevelIcon(_0x2d0935){await $['get']('http://120.79.242.198/lucky/v1/user/dailyData',{'headers':{'token':_0x2d0935}})[_0x538b('0x9')](_0x5bb018=>{if(_0x5bb018['data'][_0x538b('0x16')][_0x538b('0x1a')]==0x0){console[_0x538b('0x18')](_0x538b('0x7'));var _0xf67963=_0x5bb018[_0x538b('0x13')]['data'][_0x538b('0x20')]['stepNum'];console['log'](_0x538b('0x21')+_0xf67963);if(0x1<_0xf67963&&_0xf67963<0x5dc){getLevelIcon(_0x2d0935,0x1);}else if(0x5dc<_0xf67963&&_0xf67963<0xbb8){getLevelIcon(_0x2d0935,0x2);}else if(0xbb8<_0xf67963&&_0xf67963<0x1194){getLevelIcon(_0x2d0935,0x3);}else if(0x1194<_0xf67963&&_0xf67963<0x1770){getLevelIcon(_0x2d0935,0x4);}else if(_0xf67963>0x1770){getLevelIcon(_0x2d0935,0x5);}}else{console[_0x538b('0x18')](_0x5bb018[_0x538b('0x13')]['resp']['msg']);}});}async function getLevelIcon(_0x15a56b,_0x1b3693){var _0x1c04b9=mainResult['stepLevel']['goldStepLevelDb']['id'];if(_0x1b3693==_0x1c04b9){await $['post'](_0x538b('0x10')+_0x1b3693+'&hasDouble=2',{},{'headers':{'token':_0x15a56b}})['then'](_0x370f3b=>{});}}async function bind(_0x3ebb37){await $[_0x538b('0x17')](_0x538b('0x19'),{'headers':{'token':_0x3ebb37}})['then'](_0x2342e7=>{if(_0x2342e7[_0x538b('0x13')][_0x538b('0x1a')]==0x0){if(_0x2342e7['data']['data']['user'][_0x538b('0xb')]==null){$[_0x538b('0x1c')](_0x538b('0x1f'),{},{'headers':{'token':_0x3ebb37}})['then'](_0x2db842=>{_0x2db842['data'];});}}});}async function getMainCoinInfo(_0x29bc00){while(randomIcon<0x19&&randomIcon!=0x0&&requestNum<0x32){await $['get'](_0x538b('0xd'),{'headers':{'token':_0x29bc00}})[_0x538b('0x9')](_0x260c7b=>{var _0x58f5a9=_0x260c7b[_0x538b('0x13')][_0x538b('0x13')];randomIcon=_0x58f5a9['random']['goldNum'];mainResult=_0x58f5a9;requestNum+=0x1;});}}async function getRandomIcon(_0x5ad518,_0x490605){await $['post'](_0x538b('0x1')+_0x490605+_0x538b('0x14'),{},{'headers':{'token':_0x5ad518}})['then'](_0xda3f9a=>{if(_0xda3f9a['data'][_0x538b('0x16')]['code']==0x0){console[_0x538b('0x18')](_0x538b('0x1b')+_0x490605+'个');}else{console[_0x538b('0x18')](_0xda3f9a[_0x538b('0x13')]['resp'][_0x538b('0x11')]);}});}async function getOnlineIcon(_0x5178d7,_0x1752ee,_0x434773){await $[_0x538b('0x15')]('http://120.79.242.198/lucky/v1/gold/onlineTask?goldOnlineTaskId='+_0x1752ee+_0x538b('0x14'),{},{'headers':{'token':_0x5178d7}})[_0x538b('0x9')](_0x4963d8=>{if(_0x4963d8[_0x538b('0x13')][_0x538b('0x16')]['code']==0x0){console['log'](_0x538b('0x5')+_0x434773+'个');}else{console[_0x538b('0x18')](_0x4963d8[_0x538b('0x13')]['resp']['msg']);}});}async function getActiveIcon(_0x626a9e,_0x5e8389){reportOnlineDuration();await $[_0x538b('0x15')]('http://120.79.242.198/lucky/v1/gold/active?goldNum='+_0x5e8389+_0x538b('0x14'),{},{'headers':{'token':_0x626a9e}})['then'](_0x98b454=>{if(_0x98b454['data'][_0x538b('0x16')][_0x538b('0x1a')]==0x0){console['log'](_0x538b('0xa')+_0x5e8389+'个');}else{console[_0x538b('0x18')](_0x98b454[_0x538b('0x13')][_0x538b('0x16')]['msg']);}});}function getStepIcon(_0x109ebf,_0x18772a){$['post'](_0x538b('0x4')+_0x18772a+'&hasDouble=2',{},{'headers':{'token':_0x109ebf}})['then'](_0x40bace=>{if(_0x40bace[_0x538b('0x13')][_0x538b('0x16')]['code']==0x0){console[_0x538b('0x18')](_0x538b('0x12')+_0x18772a+'个');}else{console['log'](_0x40bace[_0x538b('0x13')]['resp'][_0x538b('0x11')]);}});}async function reportOnlineDuration(){await $['post'](_0x538b('0x8'),{},{'headers':{'token':token}})[_0x538b('0x9')](_0x516ca2=>{if(_0x516ca2['data'][_0x538b('0x16')][_0x538b('0x1a')]==0x0){console[_0x538b('0x18')]('更新在线时间');}else{console[_0x538b('0x18')](_0x516ca2[_0x538b('0x13')]['resp']['msg']);}});}
